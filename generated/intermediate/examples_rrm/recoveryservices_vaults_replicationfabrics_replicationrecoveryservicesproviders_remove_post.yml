- hosts: localhost
  roles:
    - ../modules
  vars_files:
    - _vars.yml
  vars:
    subscription_name: mySubscription
    resource_group: myResourceGroup
    vault_name: myVault
    replication_fabric_name: myReplicationFabric
    replication_recovery_services_provider_name: myReplicationRecoveryServicesProvider
  tasks:

    - name: >-
        Deletes provider from fabric. Note: Deleting provider for any fabric other
        than SingleHost is unsupported. To maintain backward compatibility for
        released clients the object "deleteRspInput" is used (if the object is empty
        we assume that it is old client and continue the old behavior).
      azure_rm_recoveryservicesreplicationrecoveryservicesprovider:
        resource_name: '{{vault_name}}'
        resource_group: '{{resource_group}}'
        fabric_name: '{{replication_fabric_name}}'
        name: '{{replication_recovery_services_provider_name}}'
    