- import_playbook: apimanagement_service_templates_put.yml


- hosts: localhost
  roles:
    - ../modules
  vars_files:
    - _vars.yml
  vars:
    resource_group: myResourceGroup
    service_name: myService
    template_name: myTemplate
  tasks:

    - name: ApiManagementUpdateEmailTemplate
      azure_rm_apimanagementemailtemplate:
        resource_group: '{{resource_group}}'
        service_name: '{{service_name}}'
        name: '{{template_name}}'
        subject: Your application $AppName is published in the gallery
        body: "<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style=\"font-size:12pt;font-family:'Segoe UI'\">Dear $DevFirstName $DevLastName,</p>\r\n    <p style=\"font-size:12pt;font-family:'Segoe UI'\">\r\n          We are happy to let you know that your request to publish the $AppName application in the gallery has been approved. Your application has been published and can be viewed <a href=\"http://$DevPortalUrl/Applications/Details/$AppId\">here</a>.\r\n        </p>\r\n    <p style=\"font-size:12pt;font-family:'Segoe UI'\">Best,</p>\r\n    <p style=\"font-size:12pt;font-family:'Segoe UI'\">The $OrganizationName API Team</p>\r\n  </body>\r\n</html>"
    